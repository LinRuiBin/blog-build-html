webpackJsonp([10],{NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={};t.d(o,"setInfo",function(){return b});var r={};t.d(r,"userInfo",function(){return k});var a=t("MVMM"),u={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"layout-bg"}),this._v(" "),n("router-view",{staticClass:"main"})],1)},staticRenderFns:[]};var i=t("vSla")({name:"App"},u,!1,function(e){t("pIDQ")},null,null).exports,l=t("zO6J"),s=function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,"V10o"))};a.default.use(l.a);var c=new l.a({routes:[{path:"/",name:"index",component:function(){return t.e(2).then(t.bind(null,"8/c5"))},redirect:"/home",children:[{path:"home",component:function(){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"NvXN"))},meta:{keepAlive:!0}},{path:"posts",component:function(){return Promise.all([t.e(0),t.e(8)]).then(t.bind(null,"tO5f"))}},{path:"post",component:s},{path:"writepost",component:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,"lTj4"))}},{path:"about",component:function(){return t.e(7).then(t.bind(null,"xMlv"))},meta:{keepAlive:!0}},{path:"postDetail",component:s}]},{path:"/login",name:"login",component:function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,"pWJn"))}},{path:"/register",name:"register",component:function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,"PWvr"))}}]}),f=t("9rMa"),p=t("a3Yh"),d=t.n(p),m=t("aozt"),h=t.n(m),v=t("VKKs");a.default.prototype.$http=h.a;var g=d()({},"SET_INFO",function(e){e.userInfo={name:Object(v.a)("name"),token:Object(v.a)("token")},console.log("缓存token"+e.userInfo)});var I,b=(I="SET_INFO",console.log("vuex 保存"+I),function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return e.commit.apply(void 0,[I].concat(t))}),k=function(e){return e.userInfo};a.default.use(f.a);var w=new f.a.Store({state:{login:!1,userInfo:{name:"",token:"",avatar:""}},actions:o,mutations:g,getters:r}),S=t("uNf3"),N=t.n(S),P=t("zdS3"),y=t.n(P),O=t("GLlk"),V=t.n(O),_=t("Klf7"),j=t.n(_),A=(t("UhgQ"),t("Auhu")),M=t.n(A),K=(t("SVof"),t("rVsN")),T=t.n(K);h.a.interceptors.request.use(function(e){return w.state.userInfo.token&&(e.headers.Authorization="JWT "+w.state.userInfo.token,console.log("带上获得token"+w.state.userInfo.token)),e},function(e){return T.a.reject(e)}),h.a.interceptors.response.use(void 0,function(e){var n=e.response;return console.log("网络拦截器"+n),n.status,T.a.reject(e.response.data)}),a.default.prototype.$http=h.a,a.default.use(N.a),a.default.config.productionTip=!1,a.default.use(V.a),a.default.use(j.a),a.default.use(M.a),a.default.use(y.a,{}),new a.default({el:"#app",store:w,router:c,render:function(e){return e(i)}})},SVof:function(e,n){},UhgQ:function(e,n){},VKKs:function(e,n,t){"use strict";t.d(n,"c",function(){return a}),t.d(n,"a",function(){return u}),t.d(n,"b",function(){return i});var o=t("3cXf"),r=t.n(o),a=function(e,n){e&&("string"!=typeof n&&(n=r()(n)),console.log("保存"+e+":"+n),window.localStorage.setItem(e,n))},u=function(e){if(e)return console.log("获取："+e),window.localStorage.getItem(e)},i=function(e){e&&(console.log("删除："+e),window.localStorage.removeItem(e))}},pIDQ:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.28b120fab769a3aa2eb9.js.map