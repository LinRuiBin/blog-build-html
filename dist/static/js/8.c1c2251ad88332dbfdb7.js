webpackJsonp([8],{"8eVn":function(t,e){},tO5f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("ZYmg"),l=a("6ROu"),s=a.n(l),o={data:function(){return{msg:"所有文章",totalCount:0,labels:[],articles:[],currentlabelId:0}},methods:{_getAllLabels:function(){var t=this;Object(n.c)().then(function(e){var a=e.data.results;a.splice(0,0,{id:0,name:"全部"}),t.labels=a})},_getAllArticles:function(){var t=this;Object(n.b)().then(function(e){console.log("获取文章"),t.totalCount=e.data.count,t.articles=e.data.results})},clickLabel:function(t){var e=this;this.currentlabelId=t,console.log("点击标签 id:"+t),0===t?(console.log("获取全部文章"),Object(n.b)().then(function(t){e.totalCount=t.data.count,e.articles=t.data.results})):(console.log("获取指定id文章: "+t),Object(n.f)(t).then(function(t){e.totalCount=t.data.count,e.articles=t.data.articles}))},handleCurrentChange:function(t){var e=this;console.log("点击了第几页: "+t),0===this.currentlabelId?Object(n.e)(t).then(function(t){e.totalCount=t.data.count,e.articles=t.data.results}):Object(n.g)(this.currentlabelId,t).then(function(t){e.totalCount=t.data.count,e.articles=t.data.articles})}},computed:{totalArts:function(){var t=this.articles.length;return console.log("当前所有文章数"+t),this.articles.count}},components:{moment:s.a},created:function(){console.log("全部文章界面"),this._getAllLabels(),this._getAllArticles()},filters:{timeFormat:function(t){return t?"（"+s()(t).format("MMMM YYYY")+"）":""}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{xs:"{span:20,offset:2}",sm:{span:12,offset:6},md:{span:12,offset:6},lg:{span:12,offset:6},xl:{span:12,offset:6}}},[a("div",{staticClass:"labellist"},t._l(t.labels,function(e){return a("el-button",{key:e.id,staticClass:"labelbtn",attrs:{type:"success",plain:"",size:"small"},on:{click:function(a){t.clickLabel(e.id)}}},[t._v(t._s(e.name))])})),t._v(" "),a("div",{staticClass:"posts"},[a("ul",{staticClass:"posts-list"},t._l(t.articles,function(e){return a("li",{key:e.id},[a("router-link",{staticClass:"title",attrs:{to:{path:"/postDetail",query:{postid:e.id}}}},[t._v(t._s(e.title))]),t._v(" "),a("span",{staticClass:"createTime"},[t._v(t._s(t._f("timeFormat")(e.add_time)))]),t._v(" "),t._l(e.label,function(e){return a("el-tag",{key:e.id,staticClass:"arttag",attrs:{size:"mini",type:"warning"}},[t._v(t._s(e.name))])})],2)}))]),t._v(" "),t.totalCount>10?a("div",{staticClass:"pagefooter"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totalCount,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1):t._e()])],1)},staticRenderFns:[]};var c=a("vSla")(o,i,!1,function(t){a("8eVn")},"data-v-1c03d476",null);e.default=c.exports}});
//# sourceMappingURL=8.c1c2251ad88332dbfdb7.js.map